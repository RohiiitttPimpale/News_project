<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>News</title>
    <link rel="icon" href="{{ url_for('static', filename='img.png') }}" type="image/png">
  {{ bootstrap.load_css() }}
  <style>
    /* small local styles for nicer image cropping and spacing */
    .article-card { background: #F8B259; border: none; }
    .article-img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 6px;
    }
    @media (min-width: 768px) {
      .article-img { height: 150px; }
    }
    header.navbar-custom { background: #D96F32; }
    .brand-text { font-weight: 700; color: #fff; }
    .meta-small { font-size: 0.9rem; color: #2b2b2b; }
  </style>
</head>
<body style="background:#F3E9DC;">

  <!-- Navbar (responsive) -->
  <nav class="navbar navbar-expand-md navbar-custom py-2 mb-3">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <!-- simple text logo; replace with <img> if you have one -->
        <h2 style="font: 30px Arial, sans-serif; color: orange;
           text-shadow: -1px -1px 0 #000,
                        1px -1px 0 #000,
                       -1px  1px 0 #000,
                        1px  1px 0 #000;">
  Fresh News
</h2>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navCollapse"
              aria-controls="navCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navCollapse">
        <form class="ms-auto my-2 my-md-0 w-100 w-md-auto" action="{{ url_for('home') }}" method="post" role="search">
          <div class="input-group">
            <input type="search" name="enter" class="form-control" placeholder="Search..." aria-label="Search">
            <button class="btn btn-dark" type="submit">Search</button>
          </div>
        </form>
      </div>
    </div>
  </nav>

  <div class="container">
    <h1 class="mb-3" style="margin-left:4px;">{{ title }}</h1>

    {% if articles|length == 0 %}
      <p class="text-muted">No articles found.</p>
    {% endif %}

    <!-- Article list: responsive cards that stack on mobile and align on larger screens -->
    <div class="row g-3">
      {% for article in articles %}
      <div class="col-12">
        <a href="{{ article['url'] }}" style="text-decoration: none; color: inherit;">
          <div class="card article-card p-3">
            <div class="row g-3 align-items-center">
              <!-- image column: on small screens this is full width above text; on md+ it becomes left or right -->
              <div class="col-12 col-md-4">
                {% if article['urlToImage'] %}
                  <img src="{{ article['urlToImage'] }}" alt="{{ article['title']|default('Article image') }}" class="article-img">
                {% else %}
                  <!-- simple placeholder when image is missing -->
                  <div class="article-img d-flex align-items-center justify-content-center" style="background:#e7caa0;">
                    <small class="text-muted">No image</small>
                  </div>
                {% endif %}
              </div>

              <!-- text column -->
              <div class="col-12 col-md-8">
                <h2 class="h5 mb-2">{{ article["title"] }}</h2>
                {% if article["description"] %}
                  <p class="mb-2">{{ article["description"] }}</p>
                {% endif %}

                <div class="d-flex flex-column flex-sm-row justify-content-between align-items-start">
                  <div class="meta-small">
                    Date: {{ article["publishedAt"].split('T')[0] }}<br>
                    Time: {{ article["publishedAt"].split('T')[1] if article["publishedAt"] is defined else '' }}<br>
                    Author: {{ article["author"] or "Unknown" }}
                  </div>

                  <div class="mt-2 mt-sm-0">
                    <button class="btn btn-sm btn-outline-dark" type="button">Read â†’</button>
                  </div>
                </div>
              </div>
            </div> <!-- row -->
          </div> <!-- card -->
        </a>
      </div> <!-- col -->
      {% endfor %}
    </div> <!-- row -->
  </div> <!-- container -->

  {{ bootstrap.load_js() }}
</body>
</html>
